/*!
 * Mowe Contact v1.0.0 (http://letsmowe.com/)
 * Copyright 2013-2016 Kabana's Info Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
function Contact(t,i){var e=this;this.viewport=t,this.url=!!i.url&&i.url,this.data={},this.fields={},this.clickCtrl=function(){e.initResponse(this),this.preventDefault()},this.asyncSuccessCtrl=function(t){t.sent?e.showMessage():e.send()},this.asyncErrorCtrl=function(t){console.log("erro"),e.send()}}/*!
 * Mowe La Lolla Functions v1.0.0 (http://letsmowe.com/)
 * Copyright 2013-2016 Kabana's Info Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
function addListener(t){var i=t.element,e=t.type,s=t.crossType,o=t.listener,a=t.useCapture;window.addEventListener?i.addEventListener(e,o,!!a):i.attachEvent(s?s:e,o)}Contact.prototype.showMessage=function(){console.log("hhee")},Contact.prototype.send=function(){console.log("enviando"),$.ajax({url:this.url,type:"jsonp",cache:!1,data:this.data,method:"get",timeout:3e4,success:this.asyncSuccessCtrl,error:this.asyncErrorCtrl})},Contact.prototype.initSend=function(){this.send()},Contact.prototype.loadTextFieldValue=function(t){return!!t&&t.value},Contact.prototype.loadFieldsData=function(t){this.data.name=this.loadTextFieldValue(this.fields.name),this.data.mail=this.loadTextFieldValue(this.fields.mail),this.data.message=this.loadTextFieldValue(this.fields.message),t&&this.initSend()},Contact.prototype.validateTextField=function(t){return!!t&&""!==t.value},Contact.prototype.validateFields=function(){return!(!this.validateTextField(this.fields.name)||!this.validateTextField(this.fields.mail)||!this.validateTextField(this.fields.message))},Contact.prototype.initResponse=function(t){this.validateFields()&&this.loadFieldsData(!0)},Contact.prototype.addListeners=function(){addListener({element:this.submit,type:"click",crossType:"onclick",listener:this.clickCtrl})},Contact.prototype.getFields=function(){this.fields.name=document.getElementById("cNome"),this.fields.mail=document.getElementById("cEmail"),this.fields.message=document.getElementById("cMensagem"),this.submit=document.getElementById("cSubmit"),this.addListeners()},Contact.prototype.init=function(){this.getFields()};/*!
 * Mowe Installery v1.0.0 (http://letsmowe.com/)
 * Copyright 2013-2016 Kabana's Info Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
var Installery=function(){function t(t,i){var e=this;this.viewport=t,this.view={},this.view.data=[],this.view.lastInstagram_id=0,this.view.lastBrand_id=0,this.view.options={},this.view.options.hashtag=!1,this.view.options.instagramPerView=6,this.view.options.brandPerView=2,this.view.options.query=[],this.instagram={},this.instagram.data=[],this.instagram.allData=!1,this.instagram.lastInstagram_id=0,this.brand={},this.brand.data=[],this.brand.lastBrands_id=0,this.autoload=!1,this.loadLast=0,this.ajaxCtrl=function(t){e.updateInstagramData(t)}}return t.prototype.isOnArray=function(t,i,e){for(var s=t.length;s--;){if(t[s]==i)return!0;if(e&&!(t[s]-e>i||t[s]+e<i))return!0}return!1},t.prototype.getNumbers=function(t,i,e,s){for(var o=[];o.length!=t;){var a=Math.floor(Math.random()*(e-i))+i;this.isOnArray(o,a,s)||o.push(a)}return o},t.prototype.hasTag=function(t,i){return this.isOnArray(t.tags,i,!1)},t.prototype.doTagQuery=function(t){for(var i=this.view.options.query.length;i--;)if(this.hasTag(t,this.view.options.query[i]))return!0;return!1},t.prototype.getBrandMedia=function(t){var i,e;i=[],e=this.getNumbers(t,0,3,!1);for(var s=t;s--;)i.push(this.brand.data[e[s]]);return i},t.prototype.getInstagramMedia=function(t){var i,e,s,o;for(i=[],e=this.view.lastInstagram_id+t,s=!1;this.view.lastInstagram_id<e&&!s;)(o=this.instagram.data[this.view.lastInstagram_id])?this.view.options.query.length?(this.doTagQuery(o)&&i.push(o),this.view.lastInstagram_id++):(i.push(o),this.view.lastInstagram_id++):s=!s;return this.view.lastInstagram_id>=20&&this.viewport.parentNode&&this.viewport.parentNode.classList.add("is-over"),i},t.prototype.mergeMedia=function(t,i,e){var s,o,a,n;s=[],a=this.getNumbers(this.view.options.brandPerView,1,e,2),o=0,n=0;for(var r=0;r<e;r++)r&&this.isOnArray(a,r,!1)?s.push(t[o++]):s.push(i[n++]);return s},t.prototype.loadMedia=function(t,i){var e,s,o;return s=this.getInstagramMedia(t),e=this.getBrandMedia(i),o=this.mergeMedia(e,s,s.length+e.length)},t.prototype.buildMediaItem=function(t){var i=document.createElement("article");return i.classList.add("InstalleryMedia"),t.brand?i.classList.add("InstalleryMedia--brand"):i.classList.add("InstalleryMedia--instagram"),i.style.backgroundImage='url("'+t.images.standard_resolution.url+'")',i},t.prototype.buildView=function(t){for(var i=[],e=0;e<t.length;e++)t[e]&&(t[e].viewport||(t[e].viewport=this.buildMediaItem(t[e])),i.push(t[e]));return i},t.prototype.loadView=function(){var t=this.loadMedia(this.view.options.instagramPerView,this.view.options.brandPerView);if(t)for(var i=this.buildView(t),e=0;e<i.length;e++)this.viewport.appendChild(i[e].viewport.cloneNode(!0))},t.prototype.initMedia=function(){this.loadView(),this.view.options.instagramPerView=7,this.view.options.brandPerView=1},t.prototype.loadBrandData=function(t){for(var i=0;i<t.length;i++)t[i].brands_id=this.brand.lastBrands_id,this.brand.data.push(t[i]),this.brand.lastBrands_id=t[i].brands_id,this.brand.lastBrands_id++},t.prototype.updateInstagramMediaItem=function(t){t.instagram_id=this.instagram.lastInstagram_id++,this.instagram.data.push(t)},t.prototype.updateInstagramData=function(t){this.instagram.meta=t.meta,this.instagram.pagination=t.pagination;for(var i=0;i<t.data.length;i++)this.updateInstagramMediaItem(t.data[i]);this.instagram.loadAll&&(this.instagram.pagination.next_url?this.loadInstagramData(this.instagram.pagination.next_url,this):this.instagram.loadAll=!1),this.loadLast++||this.initMedia(),this.autoload&&(this.autoload=!1,this.initMedia())},t.prototype.loadInstagramData=function(t,i){$.ajax({type:"get",dataType:"jsonp",url:t,cache:!1,success:i.ajaxCtrl,error:function(){console.log("ajax error")}})},t.prototype.firstBiteInstagramData=function(t){$.ajax({type:"get",dataType:"jsonp",url:t,cache:!1,success:this.ajaxCtrl,error:function(){console.log("ajax error")}})},t.prototype.loadMore=function(){this.instagram.loadAll||(this.instagram.loadAll=!0),this.instagram.pagination.next_url&&this.loadInstagramData(this.instagram.pagination.next_url,this),this.loadView()},t.prototype.destroyView=function(){this.viewport.innerHTML="",this.view.data=[],this.view.lastInstagram_id=0},t.prototype.reload=function(){this.destroyView(),this.view.options.query=["camisetas"],this.autoload=!0,this.loadView()},t.prototype.init=function(t){this.firstBiteInstagramData(t)},t}(),Menu=function(){function t(t,i){var e=this;this.viewport=t,this.name=i.name,this.active=!1,this.title={},this.list={},this.backdrop={},this.toggleButton={},this.showItems=i.showItems||!1,this.title.title=i.title||!1,this.list.data=i.list,this.toggleClickCtrl=function(){e.toggle()},this.itemClickCtrl=function(){e.toggle(this)}}return t.prototype.buildBackdrop=function(){var t=document.createElement("div");return t.classList.add("Menu-backdrop"),t},t.prototype.activeBackdrop=function(){this.backdrop.viewport=this.buildBackdrop(),this.viewport.insertBefore(this.backdrop.viewport,this.list.viewport),this.backdrop.viewport.addEventListener("click",this.toggleClickCtrl)},t.prototype.destroyBackdrop=function(){this.viewport.removeChild(this.backdrop.viewport)},t.prototype.show=function(){this.viewport.classList.add("is-active"),this.activeBackdrop(),this.active=!this.active},t.prototype.hide=function(){this.viewport.classList.remove("is-active"),this.destroyBackdrop(),this.active=!this.active},t.prototype.toggle=function(t){this.listUpdatePosition(),this.active?this.hide():t?t.isFixed||this.show():this.show()},t.prototype.buildTitle=function(){var t=document.createElement("div");t.classList.add("Menu-title");var i=document.createElement("span");return i.innerHTML=this.title.title,t.appendChild(i),t},t.prototype.initTitle=function(){this.title.viewport=this.buildTitle(),this.title.viewport.addEventListener("click",this.toggleClickCtrl)},t.prototype.listUpdatePosition=function(){var t,i;t=this.toggleButton.viewport.offsetLeft,i=this.toggleButton.viewport.offsetTop+this.toggleButton.viewport.offsetHeight,this.list.hiddenList.style.top=i+"px",this.list.hiddenList.style.left=t+"px"},t.prototype.buildToggleButton=function(){var t=document.createElement("a");t.className="Menu-toggle-button";var i=document.createElement("span");return i.className="icon-ellipsis",t.appendChild(i),t.addEventListener("click",this.toggleClickCtrl),t},t.prototype.buildListItem=function(t,i){var e=document.createElement("li");e.classList.add("Menu-item"),e.setAttribute("data-tag",t.name);var s=document.createElement("span");return s.innerHTML=t.title,e.appendChild(s),e.addEventListener("click",this.itemClickCtrl),e.addEventListener("click",t.onClick),e.isFixed=!!i,e},t.prototype.buildList=function(){var t,i,e;for(i=document.createElement("ul"),i.classList.add("Menu-list"),t=0;t<(this.showItems||0);t++)i.appendChild(this.buildListItem(this.list.data[t],!0));for(this.toggleButton.viewport=this.buildToggleButton(),i.appendChild(this.toggleButton.viewport),e=document.createElement("ul"),e.classList.add("Menu-hidden-list"),t=0+(this.showItems||0);t<this.list.data.length;t++)e.appendChild(this.buildListItem(this.list.data[t]));return i.appendChild(e),this.list.hiddenList=e,i},t.prototype.initList=function(){this.list.viewport=this.buildList()},t.prototype.build=function(){this.title.viewport&&this.viewport.appendChild(this.title.viewport),this.viewport.appendChild(this.list.viewport)},t.prototype.tests=function(t,i,e){var s,o,a,n,r;n=document.getElementById("main"),s=0,o=20,a=400,r=!0,setInterval(function(){i&&(r?(s+=o,s>=a&&(r=!1)):(s-=o,s<=0&&(r=!0))),n.style.paddingTop=s+"px",n.style.paddingLeft=s+"px",t.toggleClickCtrl()},e?e:1e3)},t.prototype.init=function(){this.viewport.classList.add("Menu--unsplash"),this.title.title&&this.initTitle(),this.initList(),this.build()},t}(),Nav=function(){function t(){var t=this;this.viewport=document.getElementById("main-nav"),this.mainHeader=document.getElementById("main-header"),this.header={},this.header.viewport=document.getElementById("main-nav-header"),this.body={},this.body.viewport=document.getElementById("main-nav-body"),this.controller={},this.controller.viewport=document.getElementById("main-nav-controller"),this.controller.icon=document.getElementById("main-nav-controller-icon"),this.body.items=[],this.menu={},this.menu.items=[],this.active=!1,this.resizeCtrl=function(){t.resize()},this.controllerClickCtrl=function(){t.toggleButton(this,!0)},this.header.itemClickCtrl=function(){t.toggleButton(this,!1)}}return t.prototype.toggleControllerIcon=function(){this.active?(this.controller.icon.classList.remove("icon-menu"),this.controller.icon.classList.add("icon-cancel")):(this.controller.icon.classList.remove("icon-cancel"),this.controller.icon.classList.add("icon-menu"))},t.prototype.translateItems=function(t){var i,e;e=this,t||(t=this.body.viewport.querySelector(".is-active"),t||(t=this.body.items[this.body.items.length-1]));for(var s=this.body.items.length;s--;)i=this.body.items[s],i.style.display="block",i.classList.remove("is-active"),i.style.transform="translateX("+this.body.viewport.offsetWidth+"px)",i.style.zIndex=2,i.classList.add("is-animating");t.classList.add("is-active"),t.style.transform="translateX(0px)",t.style.zIndex=3,setTimeout(function(){for(var t=e.body.items.length;t--;)e.body.items[t].classList.remove("is-animating"),e.body.items[t].classList.contains("is-active")||(e.body.items[t].style.display="none")},400)},t.prototype.translateViewport=function(){var t;t=this.active?-this.viewport.offsetWidth+"px":0,this.viewport.style.webkitTransform="translateX("+t+")",this.viewport.style.msTransform="translateX("+t+")",this.viewport.style.transform="translateX("+t+")"},t.prototype.translate=function(t,i){var e=this;e.translateViewport(),e.translateItems(!!i&&t.brother)},t.prototype.resizeDesktop=function(){var t=this;this.header.viewport.style.right="100%",this.header.viewport.style.left="auto",this.body.viewport.style.left=0,this.active?(this.controller.viewport.style.display="flex",this.controller.viewport.style.right="100%",this.controller.viewport.style.left="auto"):this.controller.viewport.style.display="none",setTimeout(function(){t.body.viewport.style.width=t.viewport.offsetWidth+"px",t.translateViewport(),t.viewport.classList.add("is-animating")},300)},t.prototype.resizeMobile=function(){var t=this;this.controller.viewport.style.display="flex",this.header.viewport.style.right="auto",this.header.viewport.style.left=0,this.active?(this.controller.viewport.style.right="auto",this.controller.viewport.style.left=0):(this.controller.viewport.style.left="auto",this.controller.viewport.style.right="100%",this.body.viewport.style.left=0),this.body.viewport.style.left=this.header.viewport.offsetWidth+"px",setTimeout(function(){t.body.viewport.style.width=t.viewport.offsetWidth-t.header.viewport.offsetWidth+"px",t.translateViewport(),t.viewport.classList.add("is-animating")},300)},t.prototype.resize=function(){var t=this;this.viewport.classList.remove("is-animating"),setTimeout(function(){window.innerWidth<420?t.resizeMobile():t.resizeDesktop()},300)},t.prototype.toggleButton=function(t,i){this.active?i&&(this.active=!this.active):this.active=!this.active,this.translate(t,!i),this.resize(),this.toggleControllerIcon()},t.prototype.getItems=function(){for(var t=this.header.viewport.querySelectorAll(".MainNav-menu-item"),i=this.body.viewport.querySelectorAll(".MainNav-item"),e=i.length;e--;)addListener({element:t[e],type:"click",crossType:"onclick",listener:this.header.itemClickCtrl,useCapture:!1}),i[e].brother=t[e],t[e].brother=i[e],this.menu.items.push(t[e]),this.body.items.push(i[e])},t.prototype.init=function(){addListener({element:this.controller.viewport,type:"click",crossType:"onclick",listener:this.controllerClickCtrl,useCapture:!1}),this.getItems(),this.resize(),this.translate(this,!1),addListener({element:window,type:"resize",crossType:"onresize",listener:this.resizeCtrl,useCapture:!1})},t}();