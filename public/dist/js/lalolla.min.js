/*!
 * Mowe Contact v1.0.0 (http://letsmowe.com/)
 * Copyright 2013-2016 Kabana's Info Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
function Contact(t,e,i){var s=this;this.viewport=t,this.feedback=e,this.url=!!i.url&&i.url,this.data={},this.fields={},this.tries=0,this.maxTries=3,this.clickCtrl=function(t){s.initResponse(this),t.preventDefault()},this.asyncSuccessCtrl=function(t){t.sent?s.showSuccessMessage():s.showFailMessage()},this.asyncErrorCtrl=function(t){this.tries=this.tries+1,this.tries<=this.maxTries?s.retry(this.tries):s.showErrorMessage()}}/*!
 * Mowe La Lolla Functions v1.0.0 (http://letsmowe.com/)
 * Copyright 2013-2016 Kabana's Info Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
function addListener(t){var e=t.element,i=t.type,s=t.crossType,a=t.listener,o=t.useCapture;window.addEventListener?e.addEventListener(i,a,!!o):e.attachEvent(s?s:i,a)}Contact.prototype.showSuccessMessage=function(){console.log("enviado"),this.feedback.innerText="Mensagem enviada!",this.feedback.classList.add("success"),this.submit.disabled=!0},Contact.prototype.showFailMessage=function(){console.log("completou, mas ocorreu uma falha"),this.feedback.innerText="Houve uma falha no envio.",this.feedback.classList.add("fail")},Contact.prototype.showErrorMessage=function(){this.feedback.innerText="Não foi possível enviar.",this.feedback.classList.add("error")},Contact.prototype.showRequiredMessage=function(t){t?(document.querySelectorAll(".email-text")[0].focus(),this.feedback.innerText="E-mail preenchido incorretamente"):this.feedback.innerText="Preencha todos os campos!"},Contact.prototype.send=function(){console.log("enviando"),this.feedback.innerText="Enviando...",$.ajax({url:this.url,type:"jsonp",cache:!1,data:this.data,method:"get",timeout:3e4,success:this.asyncSuccessCtrl,error:this.asyncErrorCtrl})},Contact.prototype.retry=function(t){console.log("tentando enviar novamente"),$.ajax({url:this.url,type:"jsonp",cache:!1,data:this.data,method:"get",timeout:3e4,success:this.asyncSuccessCtrl,error:this.asyncErrorCtrl})},Contact.prototype.initSend=function(){this.send()},Contact.prototype.loadTextFieldValue=function(t){return!!t&&t.value},Contact.prototype.loadFieldsData=function(t){this.data.name=this.loadTextFieldValue(this.fields.name),this.data.mail=this.loadTextFieldValue(this.fields.mail),this.data.message=this.loadTextFieldValue(this.fields.message),t&&this.initSend()},Contact.prototype.validateTextField=function(t){return!!t&&""!==t.value},Contact.prototype.validateFields=function(){return!(!this.validateTextField(this.fields.name)||!this.validateTextField(this.fields.mail)||!this.validateTextField(this.fields.message))},Contact.prototype.initResponse=function(t){this.validateFields()?this.fields.mail.validity?this.fields.mail.validity.valid?this.loadFieldsData(!0):this.showRequiredMessage(!0):this.loadFieldsData(!0):this.showRequiredMessage(!1)},Contact.prototype.addListeners=function(){addListener({element:this.submit,type:"click",crossType:"onclick",listener:this.clickCtrl})},Contact.prototype.getFields=function(){this.fields.name=document.getElementById("cNome"),this.fields.mail=document.getElementById("cEmail"),this.fields.message=document.getElementById("cMensagem"),this.submit=document.getElementById("cSubmit"),this.addListeners()},Contact.prototype.init=function(){this.getFields()};/*!
 * Mowe Installery v1.0.0 (http://letsmowe.com/)
 * Copyright 2013-2016 Kabana's Info Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
var Installery=function(){function t(t,e){var i=this;this.viewport=t,this.view={},this.view.data=[],this.view.lastInstagram_id=0,this.view.lastBrand_id=0,this.view.options={},this.view.options.hashtag=!1,this.view.options.instagramPerView=6,this.view.options.brandPerView=2,this.view.options.query=[],this.instagram={},this.instagram.data=[],this.instagram.allData=!1,this.instagram.lastInstagram_id=0,this.brand={},this.brand.data=[],this.brand.lastBrands_id=0,this.autoload=!1,this.loadLast=0,this.ajaxCtrl=function(t){i.updateInstagramData(t)}}return t.prototype.isOnArray=function(t,e,i){for(var s=t.length;s--;){if(t[s]==e)return!0;if(i&&!(t[s]-i>e||t[s]+i<e))return!0}return!1},t.prototype.getNumbers=function(t,e,i,s){for(var a=[];a.length!=t;){var o=Math.floor(Math.random()*(i-e))+e;this.isOnArray(a,o,s)||a.push(o)}return a},t.prototype.hasTag=function(t,e){return this.isOnArray(t.tags,e,!1)},t.prototype.doTagQuery=function(t){for(var e=this.view.options.query.length;e--;)if(this.hasTag(t,this.view.options.query[e]))return!0;return!1},t.prototype.getBrandMedia=function(t){var e,i;e=[],i=this.getNumbers(t,0,3,!1);for(var s=t;s--;)e.push(this.brand.data[i[s]]);return e},t.prototype.getInstagramMedia=function(t){var e,i,s,a;for(e=[],i=this.view.lastInstagram_id+t,s=!1;this.view.lastInstagram_id<i&&!s;)(a=this.instagram.data[this.view.lastInstagram_id])?this.view.options.query.length?(this.doTagQuery(a)&&e.push(a),this.view.lastInstagram_id++):(e.push(a),this.view.lastInstagram_id++):s=!s;return this.view.lastInstagram_id>=20&&this.viewport.parentNode&&this.viewport.parentNode.classList.add("is-over"),e},t.prototype.mergeMedia=function(t,e,i){var s,a,o,n;s=[],o=this.getNumbers(this.view.options.brandPerView,1,i,2),a=0,n=0;for(var r=0;r<i;r++)r&&this.isOnArray(o,r,!1)?s.push(t[a++]):s.push(e[n++]);return s},t.prototype.loadMedia=function(t,e){var i,s,a;return s=this.getInstagramMedia(t),i=this.getBrandMedia(e),a=this.mergeMedia(i,s,s.length+i.length)},t.prototype.buildMediaItem=function(t){var e=document.createElement("article");return e.classList.add("InstalleryMedia"),t.brand?e.classList.add("InstalleryMedia--brand"):e.classList.add("InstalleryMedia--instagram"),e.style.backgroundImage='url("'+t.images.standard_resolution.url+'")',e},t.prototype.buildView=function(t){for(var e=[],i=0;i<t.length;i++)t[i]&&(t[i].viewport||(t[i].viewport=this.buildMediaItem(t[i])),e.push(t[i]));return e},t.prototype.loadView=function(){var t=this.loadMedia(this.view.options.instagramPerView,this.view.options.brandPerView);if(t)for(var e=this.buildView(t),i=0;i<e.length;i++)this.viewport.appendChild(e[i].viewport.cloneNode(!0))},t.prototype.initMedia=function(){this.loadView(),this.view.options.instagramPerView=7,this.view.options.brandPerView=1},t.prototype.loadBrandData=function(t){for(var e=0;e<t.length;e++)t[e].brands_id=this.brand.lastBrands_id,this.brand.data.push(t[e]),this.brand.lastBrands_id=t[e].brands_id,this.brand.lastBrands_id++},t.prototype.updateInstagramMediaItem=function(t){t.instagram_id=this.instagram.lastInstagram_id++,this.instagram.data.push(t)},t.prototype.updateInstagramData=function(t){this.instagram.meta=t.meta,this.instagram.pagination=t.pagination;for(var e=0;e<t.data.length;e++)this.updateInstagramMediaItem(t.data[e]);this.instagram.loadAll&&(this.instagram.pagination.next_url?this.loadInstagramData(this.instagram.pagination.next_url,this):this.instagram.loadAll=!1),this.loadLast++||this.initMedia(),this.autoload&&(this.autoload=!1,this.initMedia())},t.prototype.loadInstagramData=function(t,e){$.ajax({type:"get",dataType:"jsonp",url:t,cache:!1,success:e.ajaxCtrl,error:function(){console.log("ajax error")}})},t.prototype.firstBiteInstagramData=function(t){$.ajax({type:"get",dataType:"jsonp",url:t,cache:!1,success:this.ajaxCtrl,error:function(){console.log("ajax error")}})},t.prototype.loadMore=function(){this.instagram.loadAll||(this.instagram.loadAll=!0),this.instagram.pagination.next_url&&this.loadInstagramData(this.instagram.pagination.next_url,this),this.loadView()},t.prototype.destroyView=function(){this.viewport.innerHTML="",this.view.data=[],this.view.lastInstagram_id=0},t.prototype.reload=function(){this.destroyView(),this.view.options.query=["camisetas"],this.autoload=!0,this.loadView()},t.prototype.init=function(t){this.firstBiteInstagramData(t)},t}(),Menu=function(){function t(t,e){var i=this;this.viewport=t,this.name=e.name,this.active=!1,this.title={},this.list={},this.backdrop={},this.toggleButton={},this.showItems=e.showItems||!1,this.title.title=e.title||!1,this.list.data=e.list,this.toggleClickCtrl=function(){i.toggle()},this.itemClickCtrl=function(){i.toggle(this)}}return t.prototype.buildBackdrop=function(){var t=document.createElement("div");return t.classList.add("Menu-backdrop"),t},t.prototype.activeBackdrop=function(){this.backdrop.viewport=this.buildBackdrop(),this.viewport.insertBefore(this.backdrop.viewport,this.list.viewport),this.backdrop.viewport.addEventListener("click",this.toggleClickCtrl)},t.prototype.destroyBackdrop=function(){this.viewport.removeChild(this.backdrop.viewport)},t.prototype.show=function(){this.viewport.classList.add("is-active"),this.activeBackdrop(),this.active=!this.active},t.prototype.hide=function(){this.viewport.classList.remove("is-active"),this.destroyBackdrop(),this.active=!this.active},t.prototype.toggle=function(t){this.listUpdatePosition(),this.active?this.hide():t?t.isFixed||this.show():this.show()},t.prototype.buildTitle=function(){var t=document.createElement("div");t.classList.add("Menu-title");var e=document.createElement("span");return e.innerHTML=this.title.title,t.appendChild(e),t},t.prototype.initTitle=function(){this.title.viewport=this.buildTitle(),this.title.viewport.addEventListener("click",this.toggleClickCtrl)},t.prototype.listUpdatePosition=function(){var t,e;t=this.toggleButton.viewport.offsetLeft,e=this.toggleButton.viewport.offsetTop+this.toggleButton.viewport.offsetHeight,this.list.hiddenList.style.top=e+"px",this.list.hiddenList.style.left=t+"px"},t.prototype.buildToggleButton=function(){var t=document.createElement("a");t.className="Menu-toggle-button";var e=document.createElement("span");return e.className="icon-ellipsis",t.appendChild(e),t.addEventListener("click",this.toggleClickCtrl),t},t.prototype.buildListItem=function(t,e){var i=document.createElement("li");i.classList.add("Menu-item"),i.setAttribute("data-tag",t.name);var s=document.createElement("span");return s.innerHTML=t.title,i.appendChild(s),i.addEventListener("click",this.itemClickCtrl),i.addEventListener("click",t.onClick),i.isFixed=!!e,i},t.prototype.buildList=function(){var t,e,i;for(e=document.createElement("ul"),e.classList.add("Menu-list"),t=0;t<(this.showItems||0);t++)e.appendChild(this.buildListItem(this.list.data[t],!0));for(this.toggleButton.viewport=this.buildToggleButton(),e.appendChild(this.toggleButton.viewport),i=document.createElement("ul"),i.classList.add("Menu-hidden-list"),t=0+(this.showItems||0);t<this.list.data.length;t++)i.appendChild(this.buildListItem(this.list.data[t]));return e.appendChild(i),this.list.hiddenList=i,e},t.prototype.initList=function(){this.list.viewport=this.buildList()},t.prototype.build=function(){this.title.viewport&&this.viewport.appendChild(this.title.viewport),this.viewport.appendChild(this.list.viewport)},t.prototype.tests=function(t,e,i){var s,a,o,n,r;n=document.getElementById("main"),s=0,a=20,o=400,r=!0,setInterval(function(){e&&(r?(s+=a,s>=o&&(r=!1)):(s-=a,s<=0&&(r=!0))),n.style.paddingTop=s+"px",n.style.paddingLeft=s+"px",t.toggleClickCtrl()},i?i:1e3)},t.prototype.init=function(){this.viewport.classList.add("Menu--unsplash"),this.title.title&&this.initTitle(),this.initList(),this.build()},t}(),Nav=function(){function t(){var t=this;this.viewport=document.getElementById("main-nav"),this.mainHeader=document.getElementById("main-header"),this.header={},this.header.viewport=document.getElementById("main-nav-header"),this.body={},this.body.viewport=document.getElementById("main-nav-body"),this.controller={},this.controller.viewport=document.getElementById("main-nav-controller"),this.controller.icon=document.getElementById("main-nav-controller-icon"),this.body.items=[],this.menu={},this.menu.items=[],this.active=!1,this.resizeCtrl=function(){t.resize()},this.controllerClickCtrl=function(){t.toggleButton(this,!0)},this.header.itemClickCtrl=function(){t.toggleButton(this,!1)}}return t.prototype.toggleControllerIcon=function(){this.active?(this.controller.icon.classList.remove("icon-menu"),this.controller.icon.classList.add("icon-cancel")):(this.controller.icon.classList.remove("icon-cancel"),this.controller.icon.classList.add("icon-menu"))},t.prototype.translateItems=function(t){var e,i;i=this,t||(t=this.body.viewport.querySelector(".is-active"),t||(t=this.body.items[this.body.items.length-1]));for(var s=this.body.items.length;s--;)e=this.body.items[s],e.style.display="block",e.classList.remove("is-active"),e.style.transform="translateX("+this.body.viewport.offsetWidth+"px)",e.style.zIndex=2,e.classList.add("is-animating");t.classList.add("is-active"),t.style.transform="translateX(0px)",t.style.zIndex=3,setTimeout(function(){for(var t=i.body.items.length;t--;)i.body.items[t].classList.remove("is-animating"),i.body.items[t].classList.contains("is-active")||(i.body.items[t].style.display="none")},400)},t.prototype.translateViewport=function(){var t;t=this.active?-this.viewport.offsetWidth+"px":0,this.viewport.style.webkitTransform="translateX("+t+")",this.viewport.style.msTransform="translateX("+t+")",this.viewport.style.transform="translateX("+t+")"},t.prototype.translate=function(t,e){var i=this;i.translateViewport(),i.translateItems(!!e&&t.brother)},t.prototype.resizeDesktop=function(){var t=this;this.header.viewport.style.right="100%",this.header.viewport.style.left="auto",this.body.viewport.style.left=0,this.active?(this.controller.viewport.style.display="flex",this.controller.viewport.style.right="100%",this.controller.viewport.style.left="auto"):this.controller.viewport.style.display="none",setTimeout(function(){t.body.viewport.style.width=t.viewport.offsetWidth+"px",t.translateViewport(),t.viewport.classList.add("is-animating")},300)},t.prototype.resizeMobile=function(){var t=this;this.controller.viewport.style.display="flex",this.header.viewport.style.right="auto",this.header.viewport.style.left=0,this.active?(this.controller.viewport.style.right="auto",this.controller.viewport.style.left=0):(this.controller.viewport.style.left="auto",this.controller.viewport.style.right="100%",this.body.viewport.style.left=0),this.body.viewport.style.left=this.header.viewport.offsetWidth+"px",setTimeout(function(){t.body.viewport.style.width=t.viewport.offsetWidth-t.header.viewport.offsetWidth+"px",t.translateViewport(),t.viewport.classList.add("is-animating")},300)},t.prototype.resize=function(){var t=this;this.viewport.classList.remove("is-animating"),setTimeout(function(){window.innerWidth<420?t.resizeMobile():t.resizeDesktop()},300)},t.prototype.toggleButton=function(t,e){this.active?e&&(this.active=!this.active):this.active=!this.active,this.translate(t,!e),this.resize(),this.toggleControllerIcon()},t.prototype.getItems=function(){for(var t=this.header.viewport.querySelectorAll(".MainNav-menu-item"),e=this.body.viewport.querySelectorAll(".MainNav-item"),i=e.length;i--;)addListener({element:t[i],type:"click",crossType:"onclick",listener:this.header.itemClickCtrl,useCapture:!1}),e[i].brother=t[i],t[i].brother=e[i],this.menu.items.push(t[i]),this.body.items.push(e[i])},t.prototype.init=function(){addListener({element:this.controller.viewport,type:"click",crossType:"onclick",listener:this.controllerClickCtrl,useCapture:!1}),this.getItems(),this.resize(),this.translate(this,!1),addListener({element:window,type:"resize",crossType:"onresize",listener:this.resizeCtrl,useCapture:!1})},t}();