/*!
 * Mowe Menu v1.0.0 (http://letsmowe.com/)
 * Copyright 2013-2016 Kabana's Info Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
var Menu=function(){function t(t,i){var e=this;this.viewport=t,this.name=i.name,this.active=!1,this.title={},this.list={},this.backdrop={},this.toggleButton={},this.showItems=i.showItems||!1,this.title.title=i.title||!1,this.list.data=i.list,this.toggleClickCtrl=function(){e.toggle()},this.itemClickCtrl=function(){e.toggle(this)}}return t.prototype.buildBackdrop=function(){var t=document.createElement("div");return t.classList.add("Menu-backdrop"),t},t.prototype.activeBackdrop=function(){this.backdrop.viewport=this.buildBackdrop(),this.viewport.insertBefore(this.backdrop.viewport,this.list.viewport),this.backdrop.viewport.addEventListener("click",this.toggleClickCtrl)},t.prototype.destroyBackdrop=function(){this.viewport.removeChild(this.backdrop.viewport)},t.prototype.show=function(){this.viewport.classList.add("is-active"),this.activeBackdrop(),this.active=!this.active},t.prototype.hide=function(){this.viewport.classList.remove("is-active"),this.destroyBackdrop(),this.active=!this.active},t.prototype.toggle=function(t){this.listUpdatePosition(),this.active?this.hide():t?t.isFixed||this.show():this.show()},t.prototype.buildTitle=function(){var t=document.createElement("div");t.classList.add("Menu-title");var i=document.createElement("span");return i.innerHTML=this.title.title,t.appendChild(i),t},t.prototype.initTitle=function(){this.title.viewport=this.buildTitle(),this.title.viewport.addEventListener("click",this.toggleClickCtrl)},t.prototype.listUpdatePosition=function(){var t,i;t=this.toggleButton.viewport.offsetLeft,i=this.toggleButton.viewport.offsetTop+this.toggleButton.viewport.offsetHeight,this.list.hiddenList.style.top=i+"px",this.list.hiddenList.style.left=t+"px"},t.prototype.buildToggleButton=function(){var t=document.createElement("a");t.className="Menu-toggle-button";var i=document.createElement("span");return i.className="icon-ellipsis",t.appendChild(i),t.addEventListener("click",this.toggleClickCtrl),t},t.prototype.buildListItem=function(t,i){var e=document.createElement("li");e.classList.add("Menu-item"),e.setAttribute("data-tag",t.name);var s=document.createElement("span");return s.innerHTML=t.title,e.appendChild(s),e.addEventListener("click",this.itemClickCtrl),e.addEventListener("click",t.onClick),e.isFixed=!!i,e},t.prototype.buildList=function(){var t,i,e;for(i=document.createElement("ul"),i.classList.add("Menu-list"),t=0;t<(this.showItems||0);t++)i.appendChild(this.buildListItem(this.list.data[t],!0));for(this.toggleButton.viewport=this.buildToggleButton(),i.appendChild(this.toggleButton.viewport),e=document.createElement("ul"),e.classList.add("Menu-hidden-list"),t=0+(this.showItems||0);t<this.list.data.length;t++)e.appendChild(this.buildListItem(this.list.data[t]));return i.appendChild(e),this.list.hiddenList=e,i},t.prototype.initList=function(){this.list.viewport=this.buildList()},t.prototype.build=function(){this.title.viewport&&this.viewport.appendChild(this.title.viewport),this.viewport.appendChild(this.list.viewport)},t.prototype.tests=function(t,i,e){var s,o,n,l,r;l=document.getElementById("main"),s=0,o=20,n=400,r=!0,setInterval(function(){i&&(r?(s+=o,s>=n&&(r=!1)):(s-=o,0>=s&&(r=!0))),l.style.paddingTop=s+"px",l.style.paddingLeft=s+"px",t.toggleClickCtrl()},e?e:1e3)},t.prototype.init=function(){this.viewport.classList.add("Menu--unsplash"),this.title.title&&this.initTitle(),this.initList(),this.build()},t}();