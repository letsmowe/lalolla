/*!
 * Mowe Nav v1.0.0 (http://letsmowe.com/)
 * Copyright 2013-2016 Kabana's Info Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
var Nav=function(){function t(){var t=this;this.viewport=document.getElementById("main-nav"),this.mainHeader=document.getElementById("main-header"),this.header={},this.header.viewport=document.getElementById("main-nav-header"),this.body={},this.body.viewport=document.getElementById("main-nav-body"),this.controller={},this.controller.viewport=document.getElementById("main-nav-controller"),this.controller.icon=document.getElementById("main-nav-controller-icon"),this.body.items=[],this.menu={},this.menu.items=[],this.active=!1,this.resizeCtrl=function(){t.resize()},this.controllerClickCtrl=function(){t.toggleButton(this,!0)},this.header.itemClickCtrl=function(){t.toggleButton(this,!1)}}return t.prototype.toggleControllerIcon=function(){this.active?(this.controller.icon.classList.remove("icon-menu"),this.controller.icon.classList.add("icon-cancel")):(this.controller.icon.classList.remove("icon-cancel"),this.controller.icon.classList.add("icon-menu"))},t.prototype.translateItems=function(t){var e,i;i=this,t||(t=this.body.viewport.querySelector(".is-active"),t||(t=this.body.items[this.body.items.length-1]));for(var s=this.body.items.length;s--;)e=this.body.items[s],e.style.display="block",e.classList.remove("is-active"),e.style.transform="translateX("+this.body.viewport.offsetWidth+"px)",e.style.zIndex=2,e.classList.add("is-animating");t.classList.add("is-active"),t.style.transform="translateX(0px)",t.style.zIndex=3,setTimeout(function(){for(var t=i.body.items.length;t--;)i.body.items[t].classList.remove("is-animating"),i.body.items[t].classList.contains("is-active")||(i.body.items[t].style.display="none")},400)},t.prototype.translateViewport=function(){var t;t=this.active?-this.viewport.offsetWidth+"px":0,this.viewport.style.webkitTransform="translateX("+t+")",this.viewport.style.msTransform="translateX("+t+")",this.viewport.style.transform="translateX("+t+")"},t.prototype.translate=function(t,e){var i=this;i.translateViewport(),i.translateItems(e?t.brother:!1)},t.prototype.resizeDesktop=function(){var t=this;this.header.viewport.style.right="100%",this.header.viewport.style.left="auto",this.body.viewport.style.left=0,this.active?(this.controller.viewport.style.display="flex",this.controller.viewport.style.right="100%",this.controller.viewport.style.left="auto"):this.controller.viewport.style.display="none",setTimeout(function(){t.body.viewport.style.width=t.viewport.offsetWidth+"px",t.translateViewport(),t.viewport.classList.add("is-animating")},300)},t.prototype.resizeMobile=function(){var t=this;this.controller.viewport.style.display="flex",this.header.viewport.style.right="auto",this.header.viewport.style.left=0,this.active?(this.controller.viewport.style.right="auto",this.controller.viewport.style.left=0):(this.controller.viewport.style.left="auto",this.controller.viewport.style.right="100%",this.body.viewport.style.left=0),this.body.viewport.style.left=this.header.viewport.offsetWidth+"px",setTimeout(function(){t.body.viewport.style.width=t.viewport.offsetWidth-t.header.viewport.offsetWidth+"px",t.translateViewport(),t.viewport.classList.add("is-animating")},300)},t.prototype.resize=function(){var t=this;this.viewport.classList.remove("is-animating"),setTimeout(function(){window.innerWidth<420?t.resizeMobile():t.resizeDesktop()},300)},t.prototype.toggleButton=function(t,e){this.active?e&&(this.active=!this.active):this.active=!this.active,this.translate(t,!e),this.resize(),this.toggleControllerIcon()},t.prototype.getItems=function(){for(var t=this.header.viewport.querySelectorAll(".MainNav-menu-item"),e=this.body.viewport.querySelectorAll(".MainNav-item"),i=e.length;i--;)addListener({element:t[i],type:"click",crossType:"onclick",listener:this.header.itemClickCtrl,useCapture:!1}),e[i].brother=t[i],t[i].brother=e[i],this.menu.items.push(t[i]),this.body.items.push(e[i])},t.prototype.init=function(){addListener({element:this.controller.viewport,type:"click",crossType:"onclick",listener:this.controllerClickCtrl,useCapture:!1}),this.getItems(),this.resize(),this.translate(this,!1),addListener({element:window,type:"resize",crossType:"onresize",listener:this.resizeCtrl,useCapture:!1})},t}();